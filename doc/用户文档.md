# THSSDB 用户文档

## 小组成员

游嘉诚  软件91  2019013246

张嘉林  软件93  2018013323

朱思漠  软件92  2018012209

## 运行方法

### 构建项目

安装Maven和Java JDK。使用Intellij Idea打开本项目根目录，点击Maven-生命周期-install，安装依赖项。

<img src="用户文档.assets/image-20220626211718259.png" alt="image-20220626211718259" style="zoom:50%;" />

在Idea中运行`src\main\java\cn\edu\thssdb\server\ThssDB.java`文件中的`ThssDB.main()`方法即可运行服务器，运行`src\main\java\cn\edu\thssdb\client\Client.java`文件中的`Client.main()`方法即可运行客户端。

### 运行服务器

在Idea中运行`src\main\java\cn\edu\thssdb\server\ThssDB.java`文件中的`ThssDB.main()`方法即可运行服务器。

### 运行客户端

在Idea中运行`src\main\java\cn\edu\thssdb\client\Client.java`文件中的`Client.main()`方法即可运行客户端。

如果您需要使用客户端进行数据库访问，请先启动服务器。

如果您需要使用多个客户端，则需要在Idea中设置允许运行多个Client实例。

### 连接数据库

在客户端中输入以下语句即可连接数据库。

```mysql
connect;
```

### 断开连接或退出客户端

在客户端中输入以下语句即可断开与数据库的连接。

```mysql
disconnect;
```

在客户端中输入以下语句即可退出客户端。

```mysql
quit;
```

## 功能方法

### 创建数据库

以下语句是创建数据库的一个示例，其中db是新建的数据库名称，可以使用您需要的名称。当您使用SQL语言在THSSDB中进行操作的时候，请务必注意，SQL语言是大小写不敏感的，大写或小写字母会被视为相同的输入（下同）。

```mysql
create database db;
```

### 创建数据表

以下语句是创建数据库的一个示例，其中newtable是新建的数据表名称，可以使用您需要的名称。

```mysql
create table newtable (x int, y int, primary key(x));
```

这个数据表中，每个元组包含x, y两个属性，变量类型均为int型整数，x为主键。

### 删除数据表

以下语句是删除数据表的一个示例，其中tb是被删除的数据表名称，如果该数据表本就不存在，则会返回错误信息。

```mysql
drop table tb;
```

### 查看数据表的模式定义

以下语句是查看数据表模式定义的一个示例，其中tb是您要查看的数据表名称。

```mysql
show table tb;
```

返回格式示例为（以上面的newtable表为例）：

```
newtable (
  x INT PRIMARY KEY
  y INT
)
```

### 向数据表中插入数据

以下语句是向数据表中插入数据（元组）的一个示例，其中db是新设置的数据库名称。

```mysql
insert into newtable values (1,2);
insert into newtable(x) values (2), (3), (4);
```

则第一个语句会插入元组 (x=1, y=2)，第二个语句会插入元组 (x=2, y=NULL), (x=3, y=NULL), (x=4, y=NULL)。如果插入冲突的元组，则会返回错误信息。

### 查询数据

以下语句是创建数据库的一个示例，其中db是新设置的数据库名称，可以使用您需要的名称（下同）。

```mysql
create database db;
```



### 更新数据

以下语句是创建数据库的一个示例，其中db是新设置的数据库名称，可以使用您需要的名称（下同）。

```mysql
create database db;
```



### 删除数据

以下语句是创建数据库的一个示例，其中db是新设置的数据库名称，可以使用您需要的名称（下同）。

```mysql
create database db;
```



### 开启事务与结束事务

以下语句是创建数据库的一个示例，其中db是新设置的数据库名称，可以使用您需要的名称（下同）。

```mysql
create database db;
```

